<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Project Setup &mdash; fastapp 0.1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Parameters" href="parameters.html" />
    <link rel="prev" title="Quickstart" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> fastapp
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Project Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#automatic-generation">Automatic Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#automatic-generation-reference">Automatic Generation Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fastapp">fastapp</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manual-setup">Manual Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="training.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning.html">Hyperparameter Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="vision.html">Computer Vision Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fastapp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Project Setup</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/setup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="project-setup">
<h1>Project Setup<a class="headerlink" href="#project-setup" title="Permalink to this headline"></a></h1>
<p>You can set up a FastApp project automatically using the built in cookiecutter template or you can add it manually to an existing Python package.</p>
<section id="automatic-generation">
<h2>Automatic Generation<a class="headerlink" href="#automatic-generation" title="Permalink to this headline"></a></h2>
<p>To generate a project using fastapp, then run the command-line utility.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fastapp
</pre></div>
</div>
<p>This uses <cite>https://cookiecutter.readthedocs.io/</cite> cookiecutter to generate a project for you.</p>
<p>This will use the template that comes with your fastapp installation. If you wish to use the most up-to-date template, then run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fastapp gh
</pre></div>
</div>
<p>This will use the template from the fastapp-cookiecutter repository on Github. If you wish to create your own template, feel free to fork that repository and use the new URL as the command-line argument.</p>
<p>The dependency management is handeled using poetry. Install poetry using the instructions here: <a class="reference external" href="https://python-poetry.org/docs/#installation">https://python-poetry.org/docs/#installation</a>
Then to install the dependencies, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>poetry install
</pre></div>
</div>
<p>Enter the virtual environment with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>poetry setup
</pre></div>
</div>
<p>The command-line utility should be installed to your path automatically in that environment.</p>
<section id="automatic-generation-reference">
<h3>Automatic Generation Reference<a class="headerlink" href="#automatic-generation-reference" title="Permalink to this headline"></a></h3>
<section id="fastapp">
<h4>fastapp<a class="headerlink" href="#fastapp" title="Permalink to this headline"></a></h4>
<p>Generate a fastapp project using Cookiecutter (<a class="reference external" href="https://github.com/audreyr/cookiecutter">https://github.com/audreyr/cookiecutter</a>)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>fastapp <span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-template">
<span class="sig-name descname"><span class="pre">--template</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;template&gt;</span></span><a class="headerlink" href="#cmdoption-fastapp-template" title="Permalink to this definition"></a></dt>
<dd><p>The Cookiecutter template to use. If left blank then it uses the default template in this version of fastapp. If ‘gh’ or ‘github’ then it uses the latest fastapp cookiecutter template at <a class="reference external" href="https://github.com/rbturnbull/fastapp-cookiecutter">https://github.com/rbturnbull/fastapp-cookiecutter</a></p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-checkout">
<span class="sig-name descname"><span class="pre">--checkout</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;checkout&gt;</span></span><a class="headerlink" href="#cmdoption-fastapp-checkout" title="Permalink to this definition"></a></dt>
<dd><p>A branch, tag or commit to checkout after git clone</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-no-input">
<span class="sig-name descname"><span class="pre">--no-input</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--no-no-input</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fastapp-no-input" title="Permalink to this definition"></a></dt>
<dd><p>Do not prompt for parameters and only use cookiecutter.json file content</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p>False</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-extra-context">
<span class="sig-name descname"><span class="pre">--extra-context</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;extra_context&gt;</span></span><a class="headerlink" href="#cmdoption-fastapp-extra-context" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-replay">
<span class="sig-name descname"><span class="pre">--replay</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--no-replay</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fastapp-replay" title="Permalink to this definition"></a></dt>
<dd><p>Do not prompt for parameters and only use information entered previously</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p>False</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-overwrite-if-exists">
<span class="sig-name descname"><span class="pre">--overwrite-if-exists</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--no-overwrite-if-exists</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fastapp-overwrite-if-exists" title="Permalink to this definition"></a></dt>
<dd><p>Overwrite the contents of the output directory if it already exists</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p>False</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-output-dir">
<span class="sig-name descname"><span class="pre">--output-dir</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;output_dir&gt;</span></span><a class="headerlink" href="#cmdoption-fastapp-output-dir" title="Permalink to this definition"></a></dt>
<dd><p>Where to output the generated project dir into</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p>.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-config-file">
<span class="sig-name descname"><span class="pre">--config-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;config_file&gt;</span></span><a class="headerlink" href="#cmdoption-fastapp-config-file" title="Permalink to this definition"></a></dt>
<dd><p>User configuration file</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-default-config">
<span class="sig-name descname"><span class="pre">--default-config</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--no-default-config</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fastapp-default-config" title="Permalink to this definition"></a></dt>
<dd><p>Do not load a config file. Use the defaults instead</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p>False</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-directory">
<span class="sig-name descname"><span class="pre">--directory</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;directory&gt;</span></span><a class="headerlink" href="#cmdoption-fastapp-directory" title="Permalink to this definition"></a></dt>
<dd><p>Directory within repo that holds cookiecutter.json file for advanced repositories with multi templates in it</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-skip-if-file-exists">
<span class="sig-name descname"><span class="pre">--skip-if-file-exists</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--no-skip-if-file-exists</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fastapp-skip-if-file-exists" title="Permalink to this definition"></a></dt>
<dd><p>Skip the files in the corresponding directories if they already exist</p>
<dl class="field-list simple">
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p>False</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-install-completion">
<span class="sig-name descname"><span class="pre">--install-completion</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;install_completion&gt;</span></span><a class="headerlink" href="#cmdoption-fastapp-install-completion" title="Permalink to this definition"></a></dt>
<dd><p>Install completion for the specified shell.</p>
<dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p>bash | zsh | fish | powershell | pwsh</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fastapp-show-completion">
<span class="sig-name descname"><span class="pre">--show-completion</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;show_completion&gt;</span></span><a class="headerlink" href="#cmdoption-fastapp-show-completion" title="Permalink to this definition"></a></dt>
<dd><p>Show completion for the specified shell, to copy it or customize the installation.</p>
<dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p>bash | zsh | fish | powershell | pwsh</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>
<section id="manual-setup">
<h2>Manual Setup<a class="headerlink" href="#manual-setup" title="Permalink to this headline"></a></h2>
<p>You can use FastApp in an existing project, by following these steps.</p>
<p>If you are using the poetry dependency management system, the install the app like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>poetry add git+https://github.com/rbturnbull/fastapp.git#main
</pre></div>
</div>
<p>If using pip then:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install git+https://github.com/rbturnbull/fastapp.git#main
</pre></div>
</div>
<p>Then in your code (perhaps in a file named <code class="docutils literal notranslate"><span class="pre">apps.py</span></code>) subclass FastApp and implement at least the ‘model’ and the ‘dataloaders’ methods.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fastapp</span> <span class="k">as</span> <span class="nn">fa</span>

<span class="k">class</span> <span class="nc">MyApp</span><span class="p">(</span><span class="n">fa</span><span class="o">.</span><span class="n">FastApp</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">dataloaders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">dataloaders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>If you are using a file as the main script then instantiate the app and call the main function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">MyApp</span><span class="p">()</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>If you wish to include the app in a python package, it is easiest to use the poetry dependency management system. In the pyproject.toml file add the main method of your app to the scripts section like this:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poetry.scripts]</span><span class="w"></span>
<span class="n">executable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;path.to.script:MyApp.main&quot;</span><span class="w"></span>
</pre></div>
</div>
<p>For example, if the name of the executable was going to be <code class="docutils literal notranslate"><span class="pre">logistic</span></code> and the path to the file from the base directory was <code class="docutils literal notranslate"><span class="pre">logistic/apps.py</span></code> and the subclass of FastApp was called <code class="docutils literal notranslate"><span class="pre">LogisticApp</span></code>, then the following would be added to pyproject.toml:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poetry.scripts]</span><span class="w"></span>
<span class="n">logistic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;logistic.apps:LogisticApp.main&quot;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quickstart.html" class="btn btn-neutral float-left" title="Quickstart" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="parameters.html" class="btn btn-neutral float-right" title="Parameters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Robert Turnbull.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>